{"version":3,"file":null,"sources":["/home/adrien/Projects/code/hyperscript-html/src/util.js"],"sourcesContent":["var print = console.log.bind(console)\nvar hasOwnProperty = Object.prototype.hasOwnProperty\n\nfunction toStyleStr(obj) {\n  var ks = Object.keys(obj), vs = Object.values(obj)\n\n  return ks.map((e, i) => [e, vs[i]].join(':')).join('; ')\n}\n\nfunction fromStyleStr(str) {\n  return str.split(/\\s*;\\s*/)\n  .filter(e => e)\n  .reduce((acc, cur) => ([k, v] = cur.split(':'), {...acc, [k]: v}), {})\n}\n\nfunction shorthand(tag) {\n  var ret = {tag: 'div', attrs: {class: [], style: ''}}\n\n  tag = tag.replace(/(?:[#\\.\\[]|^).*?(?=$|[#\\.\\[])|\\]/g, m => {\n    switch (m[0]) {\n      case '#':\n        ret.attrs.id = m.slice(1)\n        break\n      case '.':\n        ret.attrs.class.push(m.slice(1))\n        break\n      case '[':\n        var [key, val] = m.slice(1, -1).split('=')\n\n        // Process style string into obj.\n        if (key.toLowerCase() == 'style')\n          val = fromStyleStr(val)\n\n        ret.attrs[key] = val || true\n        break\n      default:\n        ret.tag = m\n    }\n  })\n\n  return ret\n}\n\nfunction isEmpty(obj) {\n  if (obj) {\n    if (obj.length || obj.size)\n      return false\n\n    for (const k in obj)\n      return false\n  }\n\n  return true\n}\n\nfunction* iter(obj) {\n  var k\n  for (k in obj) {\n    if (hasOwnProperty.call(obj, k))\n      yield [k, obj[k]];\n  }\n}\n\nmodule.exports = {toStyleStr, fromStyleStr, shorthand, isEmpty, iter}\n"],"names":["iter","print","console","log","bind","hasOwnProperty","Object","prototype","toStyleStr","obj","ks","keys","vs","values","map","e","i","join","fromStyleStr","str","split","filter","reduce","acc","cur","k","v","shorthand","tag","ret","attrs","class","style","replace","m","id","slice","push","key","val","toLowerCase","isEmpty","length","size","call","module","exports"],"mappings":";;;;;;eAuDUA;;;;AAvDV,IAAIC,QAAQC,QAAQC,GAAR,CAAYC,IAAZ,CAAiBF,OAAjB,CAAZ;AACA,IAAIG,iBAAiBC,OAAOC,SAAP,CAAiBF,cAAtC;;AAEA,SAASG,UAAT,CAAoBC,GAApB,EAAyB;MACnBC,KAAKJ,OAAOK,IAAP,CAAYF,GAAZ,CAAT;MAA2BG,KAAKN,OAAOO,MAAP,CAAcJ,GAAd,CAAhC;;SAEOC,GAAGI,GAAH,CAAO,UAACC,CAAD,EAAIC,CAAJ;WAAU,CAACD,CAAD,EAAIH,GAAGI,CAAH,CAAJ,EAAWC,IAAX,CAAgB,GAAhB,CAAV;GAAP,EAAuCA,IAAvC,CAA4C,IAA5C,CAAP;;;AAGF,SAASC,YAAT,CAAsBC,GAAtB,EAA2B;SAClBA,IAAIC,KAAJ,CAAU,SAAV,EACNC,MADM,CACC;WAAKN,CAAL;GADD,EAENO,MAFM,CAEC,UAACC,GAAD,EAAMC,GAAN;;;WAAe,cAASA,IAAIJ,KAAJ,CAAU,GAAV,CAAT,+CAACK,CAAD,mBAAIC,CAAJ,6CAA6BH,GAA7B,sBAAmCE,CAAnC,EAAuCC,CAAvC,EAAf;GAFD,EAE4D,EAF5D,CAAP;;;AAKF,SAASC,SAAT,CAAmBC,GAAnB,EAAwB;MAClBC,MAAM,EAACD,KAAK,KAAN,EAAaE,OAAO,EAACC,OAAO,EAAR,EAAYC,OAAO,EAAnB,EAApB,EAAV;;QAEMJ,IAAIK,OAAJ,CAAY,mCAAZ,EAAiD,aAAK;YAClDC,EAAE,CAAF,CAAR;WACO,GAAL;YACMJ,KAAJ,CAAUK,EAAV,GAAeD,EAAEE,KAAF,CAAQ,CAAR,CAAf;;WAEG,GAAL;YACMN,KAAJ,CAAUC,KAAV,CAAgBM,IAAhB,CAAqBH,EAAEE,KAAF,CAAQ,CAAR,CAArB;;WAEG,GAAL;6BACmBF,EAAEE,KAAF,CAAQ,CAAR,EAAW,CAAC,CAAZ,EAAehB,KAAf,CAAqB,GAArB,CADnB;;YACOkB,GADP;YACYC,GADZ;;;;;YAIMD,IAAIE,WAAJ,MAAqB,OAAzB,EACED,MAAMrB,aAAaqB,GAAb,CAAN;;YAEET,KAAJ,CAAUQ,GAAV,IAAiBC,OAAO,IAAxB;;;YAGIX,GAAJ,GAAUM,CAAV;;GAlBA,CAAN;;SAsBOL,GAAP;;;AAGF,SAASY,OAAT,CAAiBhC,GAAjB,EAAsB;MAChBA,GAAJ,EAAS;QACHA,IAAIiC,MAAJ,IAAcjC,IAAIkC,IAAtB,EACE,OAAO,KAAP;;SAEG,IAAMlB,EAAX,IAAgBhB,GAAhB;aACS,KAAP;;;;SAGG,IAAP;;;AAGF,SAAUT,IAAV,CAAeS,GAAf;;;;;;gDAEYA,GAFZ;;;;;;;;WAAA;;eAGQJ,eAAeuC,IAAf,CAAoBnC,GAApB,EAAyBgB,CAAzB,CAHR;;;;;;iBAIY,CAACA,CAAD,EAAIhB,IAAIgB,CAAJ,CAAJ,CAJZ;;;;;;;;;;;;;;AAQAoB,OAAOC,OAAP,GAAiB,EAACtC,sBAAD,EAAaU,0BAAb,EAA2BS,oBAA3B,EAAsCc,gBAAtC,EAA+CzC,UAA/C,EAAjB"}